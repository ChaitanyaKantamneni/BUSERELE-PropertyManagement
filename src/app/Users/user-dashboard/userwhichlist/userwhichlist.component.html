
<div *ngIf="isLoading" class="preloader">
    <img src="assets/images/load.gif" alt="Loading...">
</div>
<div *ngIf="!isLoading">
  
    <div class="container">
      <div class="button-container">
        <button *ngIf="propertydetails.length > 0" class="btn" (click)="clearAllWishlist()">Clear Wishlist</button>
      </div>
      
      <!-- <button (click)="clearWhichlist()">clear</button> -->
      <div class="properties row g-3 justify-content-center align-items-center">
        
        <ng-container *ngFor="let propertyitem of propertydetails">
          <div class="col-lg-4 col-md-6 col-sm-12 p-0 mb-3 rounded-2">
            <a [routerLink]="['/UserDashboard/viewuserdashboard', encodeID(propertyitem.propertyID)]" routerLinkActive="router-link-active" class="text-decoration-none text-black">
              <div class="propertyFulldet d-flex flex-column">
                <div class="propertyImage position-relative">
                  <img [src]="propertyitem.propertyimage" class="img-fluid w-100 h-100" alt="Property Image">
                  <span class="badge position-absolute top-0 start-0 m-2" [style.background-color]="propertyitem.propertyBadgeColor">{{propertyitem.propertyAvailability}}</span>
                    <div class="wishlist-container position-absolute top-0 end-0 m-2">
                    <i 
                      class="fas fa-heart"
                      style="color: red; cursor: pointer; font-size: 1.4rem;"
                      data-bs-toggle="tooltip"
                      data-bs-placement="left"
                      title="Remove from wishlist"
                      (click)="removeHeart(propertyitem.propertyID, $event)">
                    </i>
                    
                  </div>
                 

                   
                  
                  
                </div>
                
                <div class="propertyDetails">
                  <div class="propertyTitle d-flex align-items-center mt-1">                                          
                    <p class="mb-0">
                      {{ propertyitem.propertyname.length > 20 ? (propertyitem.propertyname | slice:0:20) + '...' : propertyitem.propertyname }}
                    </p>
                  </div>
                  <div class="propertyaddress d-flex align-items-center mt-1 mb-1">
                    <i class="fa fa-location"></i>
                    <p class="mb-0 ms-2">
                      {{ propertyitem.propertyaddress.length > 20 ? (propertyitem.propertyaddress | slice:0:20) + '...' : propertyitem.propertyaddress }}
                    </p>
                  </div>
                  <div class="propertyspecifications row m-0 justify-content-between mb-1">
                    <div class="col-4 d-flex align-items-center p-0">
                      <i class="fa fa-ruler-combined text-dark me-2 small-icon"></i>
                      <p class="mb-0 text-dark smaller-text">{{propertyitem.propertyarea}} Sqft</p>
                    </div>
                    <div class="col-4 d-flex justify-content-center align-items-center p-0 border-dark" style="border-left: 0.5px dotted;">
                      <i class="fa fa-bed text-dark me-2 small-icon"></i>
                      <p class="mb-0 text-dark smaller-text">{{propertyitem.propertybeds}}</p>
                    </div>
                    <div class="col-4 d-flex justify-content-center align-items-center p-0 border-dark" style="border-left: 0.5px dotted;">
                      <i class="fa fa-bathtub text-dark me-2 small-icon"></i>
                      <p class="mb-0 text-dark smaller-text">{{propertyitem.propertybathrooms}}</p>
                    </div>
                  </div>

                  <div class="propertyspecifications row m-0 justify-content-between">
                    <div class="col-4 d-flex align-items-center p-0">
                        <i class="fa fa-home text-dark me-2 small-icon"></i>
                        <p class="mb-0 text-dark smaller-text">{{ propertyitem.PropertyTypeName.length > 7 ? (propertyitem.PropertyTypeName | slice:0:7) + '...' : propertyitem.PropertyTypeName }}</p>
                    </div>
                    <div class="col-4 d-flex justify-content-center align-items-center p-0 border-dark" style="border-left: 0.5px dotted;">
                        <i class="fa fa-compass text-dark me-2 small-icon"></i>
                        <p class="mb-0 text-dark smaller-text">{{propertyitem.propertyfacing}}</p>
                    </div>
                    <div class="col-4 d-flex justify-content-center align-items-center p-0 border-dark" style="border-left: 0.5px dotted;">
                        <i class="fa fa-car text-dark me-2 small-icon"></i>
                        <p class="mb-0 text-dark smaller-text">{{propertyitem.propertyparking}}</p>
                    </div>
                 </div>

                <div class="propertyFooter position-relative mt-2">
                    <div class="bottom-bar2 d-flex justify-content-between align-items-center w-100">
                        <div class="contact d-flex align-items-center">
                          <!-- <a [routerLink]="['/contact-us', propertyitem.propertyID]" class="text-decoration-none text-primary fw-bold">
                            Contact
                          </a> -->
                          <!-- <a [routerLink]="['/contact-us']" class="text-decoration-none text-black fw-bold">
                            Contact
                          </a>
                          <i class="fa fa-phone-alt me-2 text-black"></i> -->
                        </div>
                      
                        <div class="cost d-flex justify-content-end">
                          <div class="price">
                            <p class="mb-0 text-black m-lg-1">Price: </p>
                          </div>
                          <p class="mb-0 text-black m-lg-1 pricesize">{{convertToCrores(propertyitem.propertyprice)}}</p>
                        </div>
                    </div>
                </div>

                  <!-- Wishlist Heart Icon -->
                  <!-- <div class="wishlist-icon" (click)="toggleHeart(propertyitem)">
                    <i class="fa" [ngClass]="{'fa-heart': isLiked, 'fa-heart-o': !isLiked}"></i>
                  </div> -->
                </div>
              </div>
            </a>
          </div>
        </ng-container>
        <div *ngIf="EmptyPropertydetails" class="NoDataFound">
          <div class="NoDataFoundImg">
            <img class="h-100 w-100" src="assets/images/IconsImages/NoDataFound.jpg" alt="">
          </div>
          <p>No Whichilist found for the given search </p>
        </div>
      </div>
    </div>
  </div>
  